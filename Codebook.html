<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Codebook</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Group Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">Our Team</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-box"></span>
     
    Exploratory Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="tax_data.html">Tax Credits</a>
    </li>
    <li>
      <a href="asthma.html">Asthma</a>
    </li>
    <li>
      <a href="temp.html">Temperature</a>
    </li>
    <li>
      <a href="UGS.html">Urban Greenspaces</a>
    </li>
  </ul>
</li>
<li>
  <a href="analysis.html">Joint Analysis</a>
</li>
<li>
  <a href="Codebook.html">Codebook</a>
</li>
<li>
  <a href="mailto:&lt;nh2706@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/EmmaWarshaw/P8105_Group_Project">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Codebook</h1>

</div>


<p>This page contains information on the four datasets analyzed within
this group project. Details on its primary source, as well as variables
definitions and units, are specified for each of them.</p>
<div id="urban-green-spaces-in-nyc" class="section level2">
<h2>Urban Green Spaces in NYC</h2>
<div id="acknowledgment-of-ownership" class="section level4">
<h4>Acknowledgment of Ownership</h4>
<p><em>The primary dataset was developed by The Nature Conservancy’s New
York City Program (Mike Treglia and Emily Maxwell) with contributions
(data aggregation and additional support) from Timon McPhearson of The
Urban Systems Lab at The New School, Eric Sanderson of The Wildlife
Conservation Society, and Greg Yetman of CIESIN at Columbia
University.</em></p>
<p>Treglia, Michael L., McPhearson, Timon, Sanderson, Eric W., Yetman,
Greg, &amp; Maxwell, Emily Nobel. (2018). Green Roofs Footprints for New
York City, Assembled from Available Data and Remote Sensing (Version
1.0.0) <a
href="https://github.com/tnc-ny-science/NYC_GreenRoofMapping/tree/master/greenroof_gisdata/CurrentDatasets">Available
here</a>. Zenodo. <a href="http://doi.org/10.5281/zenodo.1469674"
class="uri">http://doi.org/10.5281/zenodo.1469674</a></p>
</div>
<div id="primary-dataset-variables-codebook" class="section level4">
<h4>Primary Dataset: Variables codebook</h4>
<p><strong>ID and location data</strong></p>
<ul>
<li><code>fid</code> - Unique identifier</li>
<li><code>address</code> - Address based on MapPLUTO, joined to the
dataset based on bbl.</li>
<li><code>borough</code> - Borough abbreviation pulled from
MapPLUTO.</li>
<li><code>ownertype</code> - Owner type field pulled from MapPLUTO (C:
City ownership, M: Mixed city &amp; private ownership, O: Other – owned
by either a public authority or the state or federal government, P:
Private ownership, X: Fully tax-exempt property that may be owned by the
city, state, or federal government; a public authority; or a private
institution; blank: Unknown (usually private ownership))</li>
<li><code>zonedist1</code> - Zoning District 1 type pulled from
MapPLUTO.</li>
<li><code>longitude</code> - Longitude in decimal degrees.</li>
<li><code>latitude</code> - Latitude in decimal degrees.</li>
</ul>
<p><strong>Urban Green Space data</strong></p>
<ul>
<li><code>green_area</code> - Total area of the footprint of the green
roof as per this data layer, in square meter, calculated using the
projected coordinate system (EPSG 2263).</li>
<li><code>building_area</code> - Total area of the footprint of the
associated building, in square meter, calculated using the projected
coordinate system (EPSG 2263).</li>
<li><code>prop_gr</code> - Proportion (%) of the building covered by
green roof according to this layer (gr_area/bldg_area).</li>
<li><code>cons_year</code> - Year the building was constructed, pulled
from the Building Footprint data.</li>
<li><code>heightroof</code> - Height of the roof of the associated
building, in meter, pulled from the Building Footprint Data.</li>
<li><code>groundelev</code> - Lowest elevation at the building level, in
meter, pulled from the Building Footprint Data.</li>
</ul>
<p><strong>NYC building identifier</strong></p>
<ul>
<li><code>bin</code> - NYC Building ID Number based on overlap between
green roof areas and a building footprint dataset for NYC from August,
2017. (Newer building footprint datasets do not have linkages to the tax
lot identifier (bbl), thus this older dataset was used). The most
current building footprint dataset should be available at: <a
href="https://data.cityofnewyork.us/Housing-Development/Building-Footprints/nqwf-w8eh"
class="uri">https://data.cityofnewyork.us/Housing-Development/Building-Footprints/nqwf-w8eh</a>.
Associated metadata for fields from that dataset are available at <a
href="https://github.com/CityOfNewYork/nyc-geo-metadata/blob/master/Metadata/Metadata_BuildingFootprints.md"
class="uri">https://github.com/CityOfNewYork/nyc-geo-metadata/blob/master/Metadata/Metadata_BuildingFootprints.md</a>.</li>
<li><code>bbl</code> - Boro Block and Lot number as a single string.
This field is a tax lot identifier for NYC, which can be tied to the
Digital Tax Map and PLUTO/MapPLUTO. Metadata for fields pulled from
PLUTO/MapPLUTO can be found in the PLUTO Data Dictionary. All joins to
this bbl were based on MapPLUTO version 18v1.</li>
</ul>
</div>
<div id="aggregated-dataset-variables-codebook" class="section level4">
<h4>Aggregated Dataset : Variables codebook</h4>
<p>The same authors provide an additional dataset aggregated at the City
Council District, which is used for regression purposes.</p>
<ul>
<li><code>coun_dist</code> - Unique Identifier for each City Council
District</li>
<li><code>borough</code> - Name of the borough containing the respective
City Council District</li>
<li><code>num_greenroofs</code> - Number of Green Roofs Contained in the
respective City Council District</li>
<li><code>green_area</code> - total area (square meters) of green roofs
in each City Council District</li>
<li><code>num_bldgs_total</code> - Number of total buildings contained
within the respective City Council District</li>
<li><code>building_area</code> - Total area (square meters) of buildings
in each City Council District</li>
<li><code>prop_gbuild</code> - Proportion (%) of the buildings in each
City Council District with a green roof</li>
<li><code>prop_gr</code> - Proportion (%) of the rooftop area (building
footprint area) covered by green roof within each City Council
District</li>
</ul>
</div>
</div>
<div id="temperature-in-nyc" class="section level2">
<h2>Temperature in NYC</h2>
<p>The datasets to analyze the s (NYC.gov)[<a
href="https://a816-dohbesp.nyc.gov/IndicatorPublic/beta/"
class="uri">https://a816-dohbesp.nyc.gov/IndicatorPublic/beta/</a>]. The
full dataset came be found (Github)[<a
href="https://github.com/nychealth/EHDP-data/tree/production/indicators"
class="uri">https://github.com/nychealth/EHDP-data/tree/production/indicators</a>].</p>
<div id="heat-vulnerability-index-nta" class="section level4">
<h4>Heat Vulnerability Index (NTA)</h4>
<p>The heat vulnerability index dataset shows the community-level heat
impacts due to extreme heat events. The data were collected from 188
neighborhoods across the 5 boroughs of NYC.</p>
<p>The heat vulnerability index is on a 5-point scale, with 1 being the
lowest risk and 5 being the highest risk. It is based on a statistical
model that uses social and environmental factors, such as surface
temperature, green space, air conditioning access, poverty, and Black
population, to estimate the risk of heat-related death. The Black
population was identified as the most excluded from heat resources.
Residents who are at highest heat risk do not have or use air
conditioning, are older or have chronic health conditions or serious
mental illnesses.</p>
<p>The dataset used is a collection of data sources: - American
Community Survey (2013-2017 5-year estimates) - New York City Department
of Parks and Recreation (2017) - U.S. Geological Survey LandSat (2018) -
United States Census Housing and Vacancy Survey (2017)</p>
</div>
<div id="daytime-summer-surface-temperature" class="section level4">
<h4>Daytime Summer Surface Temperature</h4>
<p>The daytime summer surface temperature dataset shows the surface
temperatures of 188 neighborhood tabulation areas (NTAs) in New York
City. NTAs are neighborhoods that were created by the NYC Department of
Planning by aggregating census tracts into 195 neighborhood-like areas.
Some neighborhoods were combined to reach the minimum population of
15,000 per NTA.</p>
<p>The daytime surface temperature was collected in Fahrenheit and
varies based on vegetative covering and materials that retain heat, such
as paved roads, sidewalks, and buildings. Neighborhoods with higher
temperatures are seen to have more heat-exacerbated deaths associated
with extreme heat events. The data source is the U.S. Geological
Survey.</p>
<p>NTAs were used because we were able to match the neighborhoods across
the two datasets, Heat Vulnerability Index and Daytime Summer Surface
Temperature</p>
<p><strong><code>envo_health</code> data</strong></p>
<p><em><code>daytime_surface_temp</code> = daytime landsat thermal data
on surface collected on July 17, 2018 (averaged spatially), Farenheit
</em><code>heat_vulnerability_index</code> = score ranging from 1
(lowest risk) to 5 (highest risk) <em><code>neighborhood</code> = 188
neighborhood tabulation areas </em><code>latitude</code>,
<code>longitude</code> = coordinates of the neighborhood tabulation
areas (Note: Some coordinates may not accurately represent the combined
NTAs due to multiple neighborhoods being grouped together)
<em><code>borough</code> = New York City boroughs
</em><code>geo_id</code> = geography ID for this entry (coded in the
original dataset)</p>
<p><strong><code>envo_greenroof</code> data</strong></p>
<p>The <code>envo_greenroof</code> dataset shows the average green area,
average daytime surface temperature, and average heat vulnerability
index for each of the 5 boroughs in NYC. This dataset was created by
taking the average of green area (calculated using the primary dataset)
and merging it with the average of daytime surface temperature and
average heat vulnerability index (calculated using the
<code>envo_health</code> dataset).</p>
<p><em><code>borough</code> = New York City boroughs
</em><code>total_ green_area</code> = total area of the footprint of the
green roof per Borough, in square meter
<em><code>avg_daytime_temp</code> = average daytime surface temperature,
Farenheits </em><code>avg_heat_index</code> = average heat vulnerability
index score</p>
<p>References</p>
<ol style="list-style-type: decimal">
<li><p>New York City Department of Health, Environment &amp; Health Data
Portal. “Climate” data. Heat vulnerability index (NTA). Accessed at “<a
href="https://a816-dohbesp.nyc.gov/IndicatorPublic/beta/data-explorer/climate/"
class="uri">https://a816-dohbesp.nyc.gov/IndicatorPublic/beta/data-explorer/climate/</a>”
on 12/06/2022.</p></li>
<li><p>New York City Department of Health, Environment &amp; Health Data
Portal. “Climate” data. Daytime summer surface temperature. Accessed at
“<a
href="https://a816-dohbesp.nyc.gov/IndicatorPublic/beta/data-explorer/climate/"
class="uri">https://a816-dohbesp.nyc.gov/IndicatorPublic/beta/data-explorer/climate/</a>”
on 12/06/2022.</p></li>
</ol>
</div>
</div>
<div id="asthma-in-nyc" class="section level2">
<h2>Asthma in NYC</h2>
<p>The dataset provides data of the number and rate of asthma
hospitalizations and emergency department (ED) visits in New York State.
These data are presented by age groups, sex, month of year, and total
population for 3 selected year intervals (ex. 2000-2002, 2001-2003,
etc…). These data show only a small proportion of people who have
asthma, those whose condition is serious enough to require an emergency
department (ED) visit or hospital stay. Data show the number of asthma
ED visits and hospitalizations rather than the number of patients who
were admitted or seen for asthma related illness. For example, if a
person was hospitalized twice they would be counted twice.</p>
<div id="asthma-age-adjusted-hospitalization-rates"
class="section level4">
<h4>Asthma Age-Adjusted Hospitalization Rates</h4>
<p>Rates are calculated as the number of asthma hospitalizations per
10,000 residents in 5-year age groups using age-specific weights based
on the estimated 2008-2010 population. The maps show average asthma
age-adjusted hospitalization rates for the selected three year period.
Users can compare asthma hospitalizations across counties in the
following regions: New York State (whole state), New York City, New York
State Excluding New York City. Users can see more clearly the
differences in asthma hospitalization rates between the remaining New
York State counties when New York City counties are removed from the
display.</p>
</div>
<div id="asthma-age-adjusted-emergency-department-visit-rates"
class="section level4">
<h4>Asthma Age-Adjusted Emergency Department Visit Rates</h4>
<p>Rates are calculated as the number of asthma ED visits per 10,000
residents in 5-year age groups using age-specific weights based on the
estimated 2008-2010 population. The maps show average asthma
age-adjusted ED visit rates for the selected three year period. Users
can compare asthma ED visits across counties in the following regions:
New York State (whole state), New York City, New York State Excluding
New York City. Users can see more clearly the differences in asthma ED
visits rates between the remaining New York State counties when New York
City counties are removed from the display.</p>
</div>
<div id="critical-variables" class="section level4">
<h4>Critical Variables</h4>
<p>The following variables are present in the wrangeles and tidied
<code>asthma_df</code> (and <code>asthma2_df</code>) dataframes:</p>
<ul>
<li><code>borough</code> = New York City boroughs</li>
<li><code>indicator</code> = shows what metric <code>aa_rate10ky</code>
stands for: either age adjusted ED Visits (see explanation above), age
adjusted Hospitalizations (see explanation above), or a self-created
Severity Metric (ED visits divded by Hospitalizations, only present in
<code>asthma2_df</code>)</li>
<li><code>year</code> = year the measure was recorded</li>
<li><code>aa_rate10kpy</code> = value of indicator per 10k inhabitants
per year within a given borough</li>
<li><code>count</code> = absolute value of indicator per year within a
given borough</li>
<li><code>daily_average</code> = absolute value of indicator per day
within a given borough and year</li>
</ul>
</div>
</div>
<div id="income-tax-credits-in-nyc" class="section level2">
<h2>Income Tax Credits in NYC</h2>
<p>The data used for this project comes from two different data
sources:</p>
<p>The first is the <a
href="https://data.ny.gov/Government-Finance/Earned-Income-Tax-Credit-EITC-Claims-by-Credit-Typ/6q7b-8vuf">EITC
Data</a>, provided by New York State Open Data.</p>
<p>The second is <a
href="https://www.nyc.gov/site/planning/planning-level/nyc-population/nyc-population-current-estimates.page">Population
Estimates</a>, provided by the U.S. Census Bureau.</p>
<p>Once cleaned and optimized for use in this project, the variables of
interest are as follows:</p>
<p><code>tax_year</code> (numeric): The tax year, from 1994 - 2020
<code>credit_type</code> (character): The type of credit received,
either <code>City EITC</code>, <code>State EITC</code> or
<code>Noncust. EITC</code> <code>borough</code>(character): Borough of
New York City, either <code>Bronx</code>, <code>Brooklyn</code>,
<code>Manhattan</code>, <code>Queens</code>, or
<code>Staten Island</code> <code>number_of_claims</code>(numeric): The
number of claims filed <code>boro_credit_total</code>(numeric): The
total amount, in dollars, received in EITC credit
<code>average_credit</code>(numeric): The average dollar amount of the
EITC credit <code>popestimate</code> (numeric): The population estimate
for each borough, from 2016-2018</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
